{"version":3,"sources":["Loader.js","NickNameModal.js","Chat.js","App.js","reportWebVitals.js","index.js"],"names":["rotate","keyframes","antiRotate","Wrapper","styled","div","LargeCircle","img","SmallCircle","Loader","src","Background","Button","button","NickNameInput","input","NickNameModal","setNick","React","nick","state","setState","Paper","onSubmit","e","preventDefault","WelcomeText","autoFocus","placeholder","value","onChange","target","type","ws","Header","ChatView","Footer","Input","Form","form","Submit","Line","Chat","props","chat","message","undefined","uuid","pass","encrypt","CryptoJS","AES","toString","onerror","onopen","onclose","close","WebSocket","SHA512","enc","Base64","console","log","onmessage","data","actState","newChat","push","decrypt","Utf8","element","document","getElementById","scrollTop","scrollHeight","msg","send","style","flex","color","display","flexFlow","justifyContent","marginLeft","fontSize","alt","onClick","goHome","width","height","margin","cursor","id","map","item","key","typ","Letter","h2","WrongText","PassText","LoadText","CreateButton","SadButton","SmallText","p","App","step","name","axios","post","then","result","catch","err","error","renderContent","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.aeefcade.chunk.js","sourcesContent":["import * as React from 'react';\nimport styled, {keyframes} from 'styled-components';\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nconst antiRotate = keyframes`\n  from {\n    transform: rotate(360deg);\n  }\n\n  to {\n    transform: rotate(0deg);\n  }\n`;\n\nconst Wrapper = styled.div`\n  position: relative;\n  flex: 0 0 auto;\n  width: 50px;\n  height: 50px;\n  margin: 30px auto 0px;\n`;\n\nconst LargeCircle = styled.img`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 50px;\n  height: 50px;\n  animation: ${rotate} 2s linear infinite;\n`;\n\nconst SmallCircle = styled.img`\n  position: absolute;\n  top: 13px;\n  left: 13px;\n  width: 24px;\n  height: 24px;\n  animation: ${antiRotate} 3s linear infinite;\n`;\n\nexport default function Loader() {\n  return <Wrapper>\n    <LargeCircle\n      src='./loader.png'\n    />\n    <SmallCircle\n      src='./loader.png'\n    />\n  </Wrapper>\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport {Paper, Form, WelcomeText} from './App';\n\nconst Background = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background: #000000;\n  opacity: .5;\n`;\n\nconst Wrapper = styled.div`\n  background: none;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-flow: column;\n  position: absolute;\n  left: 0;\n  top: 0;\n`;\n\nconst Button = styled.button`\n  margin: 0px auto 50px;\n  padding: 10px 50px;\n  cursor: pointer;\n  background: #50bf59;\n  color: #ececec;\n  text-transform: uppercase;\n  font-weight: 600;\n  border-radius: 10px;\n  border: none;\n  outline: none;\n  transition: 300ms ease-in-out;\n  &:hover {\n    background: #409e48;\n    color: #ffffff;\n  }\n`;\n\nconst NickNameInput = styled.input`\n  margin: 30px auto 30px;\n  padding: 5px 10px;\n  border: 2px solid #50bf59;\n  border-radius: 5px;\n  background: #ececec;\n  text-align: center;\n  transition: 300ms ease-in-out;\n  &:focus {\n    border: 2px solid #409e48 !important;\n    outline: none;\n  }\n`;\n\nexport default function NickNameModal ({setNick}) {\n\n  const [state, setState] = React.useState({\n    nick: ''\n  });\n\n  return (\n    <React.Fragment>\n      <Background />\n      <Wrapper>\n        <Paper>\n          <Form\n            onSubmit={(e) => {\n              e.preventDefault();\n              setNick(state.nick);\n            }}\n          >\n            <WelcomeText>\n              Please, choose your nickname\n            </WelcomeText>\n            <NickNameInput\n              autoFocus\n              placeholder='Nickname'\n              value={state.nick}\n              onChange={(e) => setState({...state, nick: e.target.value})}\n            />\n            <Button\n              type='submit'\n            >\n              Ok\n            </Button>\n          </Form>\n        </Paper>\n      </Wrapper>\n    </React.Fragment>\n  );\n}","import * as React from 'react';\nimport styled from 'styled-components';\nimport CryptoJS from 'crypto-js';\nimport NickNameModal from './NickNameModal'\n\nconst Header = styled.div`\n  display: flex;\n  flex-flow: row;\n  justify-content: space-between;\n  flex: 0 0 70px;\n`;\n\nconst ChatView = styled.div`\n  margin-left: 20px;\n  margin-bottom: 10px;\n  border-top-left-radius: 10px;\n  border-bottom-left-radius: 10px;\n  background: #ececec;\n  flex: 1 1 auto;\n  box-shadow: inset 3px 3px 5px 0 #4c4c4c;\n  padding: 20px;\n  overflow-y: scroll;\n`;\n\nconst Footer = styled.div`\n  flex: 0 0 70px;\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  padding-left: 20px;\n`;\n\nconst Input = styled.input`\n  flex: 1 1 auto;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 5px;\n  background: #ececec;\n  transition: 300ms ease-in-out;\n  outline: none;\n  box-shadow: inset 3px 3px 5px 0 #4c4c4c;\n`;\n\nconst Form = styled.form`\n  flex: 0 0 auto;\n  display: flex;\n  flex-flow: row;\n`;\n\nconst Submit = styled.button`\n  flex: 0 0 auto;\n  padding: 10px 20px;\n  box-shadow: none;\n  background: #50bf59;\n  color: #ececec;\n  text-transform: uppercase;\n  margin: auto 20px;\n  border: none;\n  border-radius: 10px;\n  cursor: pointer;\n  box-shadow: 3px 3px 5px 0 #4c4c4c;\n  font-weight: 600;\n  transition: 300ms ease-in-out;\n  border: 2px solid #ececec;\n  &:hover {\n    background: #ececec;\n    color: #50bf59;\n    border: 2px solid #50bf59;\n  }\n`;\n\nconst Line = styled.div`\n`;\n\nlet ws;\n\nexport default function Chat(props) {\n  const [state, setState] = React.useState({\n    chat: [],\n    message: '',\n    nick: undefined\n  });\n  const {uuid, pass} = props;\n\n  const encrypt = (message) => {\n    return CryptoJS.AES.encrypt(message, pass).toString();\n  };\n\n  const decrypt = (message) => {\n    return CryptoJS.AES.decrypt(message, pass).toString(CryptoJS.enc.Utf8);\n  };\n\n  const init = () => {\n    if (ws) {\n      ws.onerror = ws.onopen = ws.onclose = null;\n      ws.close();\n    }\n\n    ws = new WebSocket(`ws://localhost:6969?uuid=${uuid}&pass=${CryptoJS.SHA512(pass).toString(CryptoJS.enc.Base64)}`);\n    ws.onopen = () => {\n      console.log('Connection opened!');\n    }\n    ws.onmessage = ({ data }) => {\n      setState((actState) => {\n        let newChat = [...actState.chat];\n        newChat.push(decrypt(data));\n        return {...actState, chat: newChat}\n      });\n    }\n    ws.onclose = () => {\n      ws = null;\n    }\n  };\n\n  if (!ws) {\n    init();\n  }\n\n  React.useEffect(() => {\n    const element = document.getElementById('chatView');\n    if (element) {\n      element.scrollTop = element.scrollHeight;\n    }\n  }, [state.chat]);\n\n  return (\n    <React.Fragment>\n\n      {\n        !state.nick &&\n        <NickNameModal\n          setNick={(nick) => {\n            const msg = `${nick} just entered room ...`;\n            let newChat = [...state.chat];\n            newChat.push(msg);\n            setState({...state, nick, chat: newChat});\n            ws.send(encrypt(msg));\n          }}\n        />\n      }\n\n      <Header>\n        <div style={{\n          flex: '1 1 100%',\n          color: '#ffffff',\n          display: 'flex',\n          flexFlow: 'column',\n          justifyContent: 'center'\n        }}>\n          <div style={{\n            flex: '0 0 auto',\n            marginLeft: '20px',\n            fontSize: '30px'\n          }}>\n            LetterBox\n          </div>\n          <div style={{\n            flex: '0 0 auto',\n            marginLeft: '20px',\n            fontSize: '12px'\n          }}>\n            End-to-end encrypted chatroom\n          </div>\n        </div>\n        <img\n          src='/letter.jpg'\n          alt='letter'\n          onClick={() => props.goHome()}\n          style={{\n            flex: '0 0 auto',\n            width: '80px',\n            height: '50px',\n            margin: 'auto 20px',\n            cursor: 'pointer'\n          }}\n        />\n      </Header>\n\n      <ChatView\n        id='chatView'\n      >\n        {\n          state.chat.map((item, key) => {\n            return <Line key={key}>{item}</Line>;\n          })\n        }\n      </ChatView>\n\n      <Footer>\n        <Form\n          onSubmit={(e) => {\n            e.preventDefault();\n            ws.send(encrypt(`${state.nick}: ${state.message}`));\n            let newChat = [...state.chat];\n            newChat.push(`${state.nick}: ${state.message}`);\n            setState({...state, message: '', chat: newChat});\n          }}\n        >\n          <Input\n            placeholder=\"Write your message here ...\"\n            value={state.message}\n            autoFocus={state.nick}\n            onChange={(e) => setState({...state, message: e.target.value})}\n          />\n          <Submit\n            typ='submit'\n          >\n            Send\n          </Submit>\n        </Form>\n      </Footer>\n    </React.Fragment>\n  )\n};","import * as React from 'react';\nimport styled from  'styled-components';\nimport Loader from './Loader';\nimport Chat from './Chat';\nimport axios from 'axios';\nimport CryptoJS from 'crypto-js';\n\nconst Wrapper = styled.div`\n  background: #50bf59;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-flow: column;\n  position: absolute;\n  left: 0;\n  top: 0;\n`;\n\nexport const Paper = styled.div`\n  position: relative;\n  margin: auto;\n  width: 300px;\n  height: auto;\n  display: flex;\n  flex-flow: column;\n  background: #ececec;\n  text-align: center;\n  border-radius: 4px;\n  box-shadow: 4px 4px 4px 0px #1f1f1f;\n`;\n\nconst Letter = styled.img`\n  width: 100px;\n  flex: 0 0 auto;\n  margin: 70px auto 0;\n`;\n\nexport const WelcomeText = styled.h2`\n  color: #50bf59;\n  margin: 30px auto 0;\n`;\n\nconst WrongText = styled(WelcomeText)`\n  color: #C72A2A;\n`;\n\nconst PassText = styled(WelcomeText)`\n  margin: 30px auto 30px;\n`;\n\nconst LoadText = styled(WelcomeText)`\n  margin: 10px auto 70px;\n`;\n\nconst Button = styled.button`\n  margin: 30px auto 0px;\n  cursor: pointer;\n  background: #50bf59;\n  color: #ececec;\n  padding: 10px 20px;\n  text-transform: uppercase;\n  font-weight: 600;\n  border-radius: 10px;\n  transition: 300ms ease-in-out;\n  border: none;\n  outline: none;\n  &:hover {\n    background: #409e48;\n    color: #ffffff;\n  }\n`;\n\nexport const CreateButton = styled(Button)`\n  margin: 30px auto 0px;\n  padding: 10px 30px;\n`;\n\nconst SadButton = styled(Button)`\n  margin: 30px auto 50px;\n`;\n\nconst SmallText = styled.p`\n  margin-top: 10px;\n  margin-bottom: 50px;\n  color: #50bf59;\n  text-decoration: none;\n  transition: 300ms ease-in-out;\n  text-align: center;\n  cursor: pointer;\n  &:hover {\n    color: #409e48;\n    text-decoration: underline;\n  }\n`;\n\nexport const Input = styled.input`\n  padding: 5px 10px;\n  border: 2px solid #50bf59;\n  border-radius: 5px;\n  background: #ececec;\n  margin: 10px 20px;\n  text-align: center;\n  transition: 300ms ease-in-out;\n  &:focus {\n    border: 2px solid #409e48 !important;\n    outline: none;\n  }\n`;\n\nexport const Form = styled.form`\n  flex: 0 0 auto;\n  display: flex;\n  flex-flow: column;\n`;\n\nfunction App() {\n  const [state, setState] = React.useState({\n    step: 0,\n    name: '',\n    pass: '',\n    uuid: undefined\n  });\n\n  const renderContent = () => {\n    switch (state.step) {\n      case 3: return (\n        <React.Fragment>\n\n          <Loader />\n\n          <LoadText>\n            Loading\n          </LoadText>\n\n        </React.Fragment>\n      )\n      case 2: return (\n        <React.Fragment>\n\n          <PassText>\n            Enter existing chatroom\n          </PassText>\n\n          <Form\n            onSubmit={(e) => {\n              e.preventDefault();\n              setState((actState) => ({...actState, step: 3}));\n              axios.post('/api/enterRoom', {\n                name: state.name,\n                pass: CryptoJS.SHA512(state.pass).toString(CryptoJS.enc.Base64)\n              })\n              .then(result => {\n                console.log(result);\n                setState({...state, step: 4, uuid: result.data.uuid});\n              })\n              .catch(err => {\n                console.error(err);\n                setState({\n                  ...state,\n                  step: -1,\n                  name: '',\n                  pass: ''\n                });\n              })\n            }}\n          >\n\n            <Input\n              placeholder='Room name'\n              value={state.name}\n              autoFocus\n              onChange={(e) => setState({...state, name: e.target.value})}\n            />\n\n            <Input\n              placeholder='Password'\n              type='password'\n              value={state.pass}\n              onChange={(e) => setState({...state, pass: e.target.value})}\n            />\n\n            <CreateButton\n              type='submit'\n            >\n              Enter\n            </CreateButton>\n\n            <SmallText\n              onClick={() => setState({...state, step: 1, pass: '', name: ''})}\n            >\n              or create new chatroom\n            </SmallText>\n          </Form>\n\n        </React.Fragment>\n      )\n      case 1: return (\n        <React.Fragment>\n\n          <PassText>\n            Set name and password for your new chatroom\n          </PassText>\n\n          <Form\n            onSubmit={(e) => {\n              e.preventDefault();\n              setState((actState) => ({...actState, step: 3}));\n              axios.post('/api/createRoom', {\n                name: state.name,\n                pass: CryptoJS.SHA512(state.pass).toString(CryptoJS.enc.Base64)\n              })\n              .then(result => {\n                setState({...state, step: 4, uuid: result.data.uuid});\n              })\n              .catch(err => {\n                console.error(err);\n                setState({\n                  ...state,\n                  step: -1,\n                  name: '',\n                  pass: ''\n                });\n              })\n            }}\n          >\n\n            <Input\n              placeholder='Room name'\n              value={state.name}\n              autoFocus\n              onChange={(e) => setState({...state, name: e.target.value})}\n            />\n\n            <Input\n              placeholder='Password'\n              type='password'\n              value={state.pass}\n              onChange={(e) => setState({...state, pass: e.target.value})}\n            />\n\n            <CreateButton\n              type='submit'\n            >\n              Create\n            </CreateButton>\n\n            <SmallText\n              onClick={() => setState({...state, step: 2, pass: '', name: ''})}\n            >\n              or enter existing room\n            </SmallText>\n\n          </Form>\n        </React.Fragment>\n      );\n      case -1: return (\n        <React.Fragment>\n\n          <WrongText>\n            Sorry, but entered values are not valid\n          </WrongText>\n\n          <SadButton\n            onClick={() => setState({...state, step: 0})}\n          >\n            Sad But True\n          </SadButton>\n\n        </React.Fragment>\n      )\n      default: return (\n        <React.Fragment>\n\n          <WelcomeText>\n            Welcome to LetterBox\n          </WelcomeText>\n\n          <Button\n            onClick={() => setState({...state, step: 1})}\n          >\n            New encrypted chatroom\n          </Button>\n\n          <SmallText\n            onClick={() => setState({...state, step: 2})}\n          >\n            or enter existing room\n          </SmallText>\n\n        </React.Fragment>\n      )\n    }\n  }\n\n  if (state.step === 4) {\n    return (\n      <Wrapper>\n\n        <Chat\n          goHome={() => setState({...state, step: 0, name: '', pass: '', uuid: undefined})}\n          uuid={state.uuid}\n          pass={state.pass}\n        />\n\n      </Wrapper>\n    )\n  }\n\n  return (\n    <Wrapper>\n\n      <Paper>\n        \n        <Letter\n          src={\n            state.step === -1\n            ? 'wrong.png'\n            : '/letter2.png'\n          }\n          alt='letter'\n        />\n\n        {\n          renderContent()\n        }\n\n      </Paper>\n\n    </Wrapper>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}